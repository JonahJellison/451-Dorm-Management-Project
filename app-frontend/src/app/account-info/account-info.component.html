<div class="container">
    <header>
      <nav>
        <div class="logo">Dorm Management System</div>
        <ul class="nav-links">
          <li><a routerLink="/dorm-bookings">Book a Room</a></li>
          <li><a routerLink="/account-info" class="active">My Account</a></li>
          <li><a routerLink="/logout">Logout</a></li>
        </ul>
      </nav>
    </header>
    
    <main class="account-section">
      <h1>My Account</h1>
    
      <div class="account-container">
        <div class="account-sidebar">
          <div class="user-profile">
            <div class="profile-image"></div>
            <h3>{{ name }}</h3>
            <p>Student ID: {{ studentId }}</p>
            <p>Email: {{ email }}</p>
          </div>
    
          <ul class="account-menu">
            <li class="active"><a href="#personal-info">Personal Information</a></li>
            <li><a href="#" (click)="openMaintenanceModal($event)">Maintenance Request</a></li>
          </ul>
        </div>
    
        <div class="account-content">
          <section id="personal-info" class="account-panel active">
            <h2>Personal Information</h2>
            <form class="account-form" (ngSubmit)="updateAllInfo()">
              <!-- Editable fields for user details -->
              <div class="form-group">
                <label for="account-name">Full Name</label>
                <input type="text" id="account-name" name="name" [(ngModel)]="name" required>
              </div>
              <div class="form-group">
                <label for="account-email">Email Address</label>
                <input type="email" id="account-email" name="email" [(ngModel)]="email" required>
              </div>
              <!-- Editable fields for additional student info -->
              <div class="form-group">
                <label for="account-phone">Phone Number</label>
                <input type="tel" id="account-phone" name="phone" [(ngModel)]="phone">
              </div>
              <div class="form-group">
                <label for="account-address">Home Address</label>
                <textarea id="account-address" name="homeAddress" rows="3" [(ngModel)]="homeAddress"></textarea>
              </div>
              <div class="form-group">
                <label for="account-emergency">Emergency Contact</label>
                <input type="text" id="account-emergency" name="emergencyContact" [(ngModel)]="emergencyContact">
              </div>
              <button type="submit" class="btn btn-primary">Save Changes</button>
            </form>
          </section>
    
          <section id="my-booking" class="account-panel">
            <h2>My Current Booking</h2>
            <div class="current-booking">
              <div class="booking-details">
                <div class="room-image"></div>
                <div class="booking-info">
                  <h3>Single Room 201 - North Hall</h3>
                  <p><strong>Term:</strong> Fall 2023</p>
                  <p><strong>Check-in Date:</strong> August 25, 2023</p>
                  <p><strong>Check-out Date:</strong> December 15, 2023</p>
                  <p><strong>Status:</strong> <span class="status-approved">Confirmed</span></p>
                  <p><strong>Payment Status:</strong> Paid in Full</p>
                  <div class="booking-actions">
                    <button class="btn btn-secondary">View Details</button>
                    <button class="btn btn-secondary">Request Changes</button>
                  </div>
                </div>
              </div>
            </div>
          </section>
        </div>
      </div>
    </main>
    
    <!-- Maintenance Request Modal -->
    <div class="modal" [class.show-modal]="showMaintenanceModal">
      <div class="modal-content">
        <span class="close-button" (click)="closeMaintenanceModal()">&times;</span>
        <h2>Maintenance Request</h2>
        <form (submit)="submitMaintenanceRequest($event)">
          <div class="form-group">
            <label for="maintenance-issue">Describe the Issue</label>
            <textarea id="maintenance-issue" name="issue" [(ngModel)]="maintenanceIssue" rows="4" required placeholder="Please describe the maintenance issue in detail..."></textarea>
          </div>
          <div class="form-group">
            <label for="maintenance-location">Location</label>
            <input type="text" id="maintenance-location" name="location" [(ngModel)]="maintenanceLocation" required placeholder="Room number/location">
          </div>
          <div class="form-group">
            <label for="maintenance-priority">Priority</label>
            <select id="maintenance-priority" name="priority" [(ngModel)]="maintenancePriority">
              <option value="low">Low</option>
              <option value="medium">Medium</option>
              <option value="high">High</option>
              <option value="urgent">Urgent</option>
            </select>
          </div>
          <div class="form-actions">
            <button type="button" class="btn btn-secondary" (click)="closeMaintenanceModal()">Cancel</button>
            <button type="submit" class="btn btn-primary">Submit Request</button>
          </div>
        </form>
      </div>
    </div>
  </div>
